{% extends "base.html" %} {% block imports %}
<link rel="stylesheet" href="{{ url_for('static', filename='home.css')}}" />

{% endblock %} {% block content %}
<div id="main">
  <h1 id="title">EYE2AI</h1>
  <h2
    href=""
    class="typewrite"
    id="writer_container"
    data-period="2000"
    data-type='[ "hi im bhargav.", "solutions with machine learning.", "powered by tensorflow.", "i love to develop." ]'
  ></h2>

  <div id="container">
    <div class="item">
      <div class="child">
        <h1>
          How it Works
        </h1>
        <p class="description">
          Lorem ipsum, dolor sit amet consectetur adipisicing elit. Odit dolore,
          sit placeat harum dolorem temporibus aperiam veritatis libero nisi
          delectus aspernatur necessitatibus consequuntur ut? Ullam aspernatur
          veniam possimus inventore error maxime hic, odio aliquam tempore nam
          officia quisquam iste ut molestiae debitis, sapiente repudiandae nisi.
          Voluptas quaerat perferendis sequi repellat?
        </p>
      </div>
      <div id="input" class="child">
        <form action="/" method="POST" enctype="multipart/form-data">
            <label for="image">Select a file:</label>
            <input type="file" id="image" name="image" /><br /><br />
            <input type="submit" />
        </form>
        <canvas id="myChart" width="600" height="600"></canvas>
      </div>
    </div>
      <div class="item">
        <div class="child">
          <h3>Conditions</h3>
          <p class="description">
            Lorem, ipsum dolor sit amet consectetur adipisicing elit. Sit velit
            sequi consequatur ullam, error delectus fugiat quos mollitia
            voluptatum in non quis fugit impedit, laudantium id iusto nesciunt
            totam, iure quia reprehenderit. Obcaecati nemo mollitia vero
            repellendus quae doloribus rerum nostrum sint ullam repellat quis
            culpa consequuntur nihil accusamus ex unde ratione modi quod
            veritatis in voluptate, incidunt eius! Quibusdam neque mollitia
            quisquam reiciendis cumque nesciunt dolor, soluta repellendus
            maiores ipsam laboriosam beatae odit accusantium atque explicabo ab
            eaque voluptates distinctio eum dicta veritatis voluptate. Totam
            culpa fuga corrupti, veniam cumque quis harum hic soluta sed, nemo
            adipisci maxime dolor.
          </p>
        </div>
        <div class="child">
          <p class="description">
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Facilis
            facere ab excepturi nulla ratione, magnam sapiente, consequatur ut
            debitis incidunt beatae odio assumenda magni ipsam ducimus nobis
            enim illum iure deleniti. Impedit hic est nesciunt corporis
            asperiores in sapiente commodi velit, eaque provident cum doloremque
            optio, tempore ipsam ducimus. Nostrum quisquam iusto placeat laborum
            inventore minus quis deleniti veritatis quam sint et recusandae,
            expedita nobis at alias natus dicta officiis ipsa labore esse
            tempore assumenda? Fugit atque incidunt alias. Itaque, tempore eaque
            consequatur suscipit aliquid non molestias earum neque
            exercitationem iste quam nulla voluptas blanditiis cupiditate maxime
            inventore distinctio sint!
          </p>
        </div>
      </div>

      <script src="{{ url_for('static', filename='Chart.js')}}"></script>
      <script>
        '{% if prediction %}'
          var ctx = document.getElementById('myChart').getContext('2d');
          var myChart = new Chart(ctx, {
    type: 'bar',
    data: {
        labels: ['CNV', 'DME', 'DRUSEN', 'NORMAL'],
        datasets: [{            
            data: ['{{ cnv }}', '{{ dme }}', '{{ drusen }}', '{{ normal }}'],
            backgroundColor: [
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)',
                'rgba(255, 206, 86, 0.2)',
                'rgba(75, 192, 192, 0.2)',
                'rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)'
            ],
            borderColor: [
                'rgba(255, 99, 132, 1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(255, 159, 64, 1)'
            ],
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero: true
                }
            }]
        },
        legend: {
            display: false,
            
        }
    }
});
          
        '{% endif %}'
        var TxtType = function (el, toRotate, period) {
          this.toRotate = toRotate;
          this.el = el;
          this.loopNum = 0;
          this.period = parseInt(period, 10) || 2000;
          this.txt = "";
          this.tick();
          this.isDeleting = false;
        };

        TxtType.prototype.tick = function () {
          var i = this.loopNum % this.toRotate.length;
          var fullTxt = this.toRotate[i];

          if (this.isDeleting) {
            this.txt = fullTxt.substring(0, this.txt.length - 1);
          } else {
            this.txt = fullTxt.substring(0, this.txt.length + 1);
          }

          this.el.innerHTML = '<span id="wrap">' + this.txt + "</span>";

          var that = this;
          var delta = 200 - Math.random() * 100;

          if (this.isDeleting) {
            delta /= 2;
          }

          if (!this.isDeleting && this.txt === fullTxt) {
            delta = this.period;
            this.isDeleting = true;
          } else if (this.isDeleting && this.txt === "") {
            this.isDeleting = false;
            this.loopNum++;
            delta = 500;
          }

          setTimeout(function () {
            that.tick();
          }, delta);
        };

        window.onload = function () {
          var elements = document.getElementsByClassName("typewrite");
          for (var i = 0; i < elements.length; i++) {
            var toRotate = elements[i].getAttribute("data-type");
            var period = elements[i].getAttribute("data-period");
            if (toRotate) {
              new TxtType(elements[i], JSON.parse(toRotate), period);
            }

            // INJECT CSS
            //   var css = document.createElement("style");
            //   css.type = "text/css";
            //   css.innerHTML = ".typewrite > .wrap { border-right: 0.08em solid #fff}";
            //   document.body.appendChild(css);
          }
        };
      </script>

      {% endblock %}
    </div>
  </div>
</div>
